"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IsNanError=TypeError("resulted in NaN"),exports.FailedToConvergeError=Error("failed to converge");const goalSeek=({fn:e,fnParams:r,percentTolerance:o,maxIterations:a,maxStep:t,goal:s,independentVariableIdx:n})=>{let l,p,i,d,x;const f=o/100*s;for(let o=0;o<a;o++){if(p=e.apply(null,r)-s,isNaN(p))throw exports.IsNanError;if(Math.abs(p)<=Math.abs(f))return r[n];if(d=r[n],x=d+p,Math.abs(x-d)>t&&(x=x>d?d+t:d-t),r[n]=x,i=e.apply(null,r)-s,isNaN(i))throw exports.IsNanError;l=(i-p)/p,0===l&&(l=1e-4),x=d-p/l,t&&Math.abs(x-d)>t&&(x=x>d?d+t:d-t),r[n]=x}throw exports.FailedToConvergeError};exports.default=goalSeek;